(this["webpackJsonpgit-api"]=this["webpackJsonpgit-api"]||[]).push([[0],{144:function(e,t,c){},145:function(e,t,c){},152:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(51),s=c.n(n),r=(c(144),c(22)),o=c(10),i=c(95),l=c(157),j=c(170),u=c(169),b=c(172),d=c(126),h="https://api.github.com/",O=c(121),p=c.n(O),m=c(122),g=c.n(m),f=c(123),x=c.n(f),v=c(171),S=(c(145),c(5)),N=function(){var e=JSON.parse(localStorage.getItem("repo")),t=Object(a.useState)(""),c=Object(r.a)(t,2),n=c[0],s=c[1],o=Object(a.useState)(e.description),i=Object(r.a)(o,2),j=i[0],u=i[1],b=Object(a.useState)([]),d=Object(r.a)(b,2),O=d[0],m=d[1],f=Object(a.useState)(!1),N=Object(r.a)(f,2),C=N[0],I=N[1],_=Object(a.useState)(""),w=Object(r.a)(_,2),y=w[0],k=w[1],F=Object(a.useState)(!1),J=Object(r.a)(F,2),L=J[0],T=J[1];Object(a.useEffect)((function(){var t;localStorage.getItem(e.id)&&(I(!0),T(!0)),localStorage.getItem(e.node_id)&&u(localStorage.getItem(e.node_id)),fetch("https://api.github.com/repos/bogdan/accept_values_for/tags").then((function(e){return e.json()})).then((function(e){return m(e)})),(t=e,fetch("".concat(h,"repos/").concat(t.owner.login,"/").concat(t.name,"/readme")).then((function(e){return e.json()}))).then((function(e){return s(e.content)}))}),[]),Object(a.useEffect)((function(){C&&localStorage.setItem(e.node_id,j)}),[j]),Object(a.useEffect)((function(){if(n){var e=g.a.sanitize((t=n,decodeURIComponent(escape(window.atob(t)))));k(e)}var t}),[n]);return Object(S.jsxs)("section",{className:"repo-container",children:[C?Object(S.jsxs)("div",{className:"edit-container",children:[Object(S.jsx)("textarea",{className:x()("edit",{error:L}),value:j,type:"text",onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(l.a,{className:"save-button",value:j,onClick:function(){I(!1),T(!1),localStorage.removeItem(e.id)},children:"save"}),L&&Object(S.jsx)("p",{className:"error-message",children:"you forgot to save changes"})]}):Object(S.jsxs)("h2",{className:"repo-title",children:[j,Object(S.jsx)(l.a,{className:"button edit-button",onClick:function(){I(!0),localStorage.setItem(e.id,C)},children:"edit"})]}),Object(S.jsxs)("div",{className:"tags-container",children:[Object(S.jsx)("b",{children:"Tags:"}),O.map((function(e){return Object(S.jsx)("p",{className:"tags",children:e.name},e.node_id)}))]}),Object(S.jsx)("div",{className:"link-container",children:Object(S.jsx)(v.a,{className:"zip",as:"a",href:"https://api.github.com/repos/".concat(e.owner.login,"/").concat(e.name,"/zipball/").concat(e.default_branch),children:"Download zip"})}),y&&Object(S.jsx)("div",{className:"readme",dangerouslySetInnerHTML:{__html:p()(y)}})]})},C=(c(152),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("repos"))||[]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),O=Object(r.a)(s,2),p=O[0],m=O[1],g=Object(a.useState)(""),f=Object(r.a)(g,2),x=f[0],v=f[1],C=Object(a.useState)(""),I=Object(r.a)(C,2),_=I[0],w=I[1],y=Object(a.useState)(""),k=Object(r.a)(y,2),F=k[0],J=k[1],L=Object(a.useState)(!1),T=Object(r.a)(L,2),E=T[0],z=T[1];return Object(a.useEffect)((function(){var e;F&&(e=F,fetch("".concat(h,"users/").concat(e)).then((function(e){return e.json()}))).then((function(e){return fetch(e.repos_url).then((function(e){return e.json()})).then((function(e){return n(e)}))}))}),[F]),localStorage.setItem("repos",JSON.stringify(c)),c.sort((function(e,t){switch(x){case"date":return e.updated_at.localeCompare(t.updated_at);case"title":return e.name.localeCompare(t.name)}})),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(o.a,{path:"/git-api",exact:!0,children:[Object(S.jsx)("div",{className:"navbar",children:"Github Search"}),0===c.length&&Object(S.jsxs)("div",{className:"ui focus input search",children:[Object(S.jsx)("p",{children:JSON.parse(localStorage.getItem("repos"))}),Object(S.jsx)("input",{value:_,onChange:function(e){w(e.target.value)},type:"text",placeholder:"Enter github name"}),Object(S.jsx)(l.a,{onClick:function(){z(!0),J(_)},primary:!0,children:"Search"})]}),E&&0===c.length&&Object(S.jsx)("p",{className:"notFound",children:"user not found"}),c.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h1",{className:"title",children:"List of Repositories"}),Object(S.jsxs)(j.a.Field,{widths:"equal",className:"searchTitle",children:[Object(S.jsx)(u.a,{type:"text",value:p,onChange:function(e){m(e.target.value)},placeholder:"Search by title"}),Object(S.jsxs)("select",{value:x,onChange:function(e){v(e.target.value)},className:"select",children:[Object(S.jsx)("option",{value:"date",children:"sort by date"}),Object(S.jsx)("option",{value:"title",children:"sort by title"})]}),Object(S.jsx)(l.a,{onClick:function(){localStorage.clear()},primary:!0,children:"clear localstorage"})]}),Object(S.jsx)("ul",{className:"list-group",children:c.length>0&&c.filter((function(e){return e.name.toLowerCase().includes(p.toLocaleLowerCase())})).map((function(e){return Object(S.jsx)("li",{className:"list-group-item",children:Object(S.jsxs)(b.a,{className:"card",children:[Object(S.jsx)(d.a,{src:e.owner.avatar_url}),Object(S.jsxs)(b.a.Content,{children:[Object(S.jsx)(b.a.Header,{children:"autor: ".concat(e.owner.login)}),Object(S.jsx)("br",{}),Object(S.jsx)(i.b,{onClick:function(){return function(e){localStorage.setItem("repo",JSON.stringify(e))}(e)},className:"name",to:"/details",children:"Title: ".concat(e.name)}),Object(S.jsx)("br",{}),Object(S.jsx)(b.a.Meta,{children:Object(S.jsx)("span",{className:"date",children:"last update: ".concat(e.updated_at.replace("T"," at ").replace("Z",""))})}),Object(S.jsx)("br",{}),Object(S.jsx)(b.a.Description,{className:"description",children:e.description})]}),Object(S.jsx)(b.a.Content,{extra:!0,children:Object(S.jsx)("p",{className:"rating",children:"Rating: ".concat(e.stargazers_count)})})]})},e.id)}))})]})]}),Object(S.jsx)(o.a,{path:"/details",component:N})]})});c(154),c(155);var I=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(C,{})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,174)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};s.a.render(Object(S.jsx)(i.a,{children:Object(S.jsx)(I,{})}),document.getElementById("root")),_()}},[[156,1,2]]]);
//# sourceMappingURL=main.9ea87c59.chunk.js.map