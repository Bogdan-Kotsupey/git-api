{"version":3,"sources":["components/Api.js","components/Details/Details.js","components/ReposList/ReposList.js","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Details","saved","JSON","parse","localStorage","getItem","useState","readme","setReadme","description","details","setDetails","tags","setTags","isEditing","setIsEditing","readmeElement","setReadmeElement","isNotSaved","setIsNotSaved","useEffect","id","node_id","repo","fetch","owner","login","name","then","response","json","result","content","clean","DOMPurify","sanitize","str","decodeURIComponent","escape","window","atob","className","classNames","error","placeholder","value","type","onChange","event","target","setItem","Button","onClick","map","tag","Item","as","href","default_branch","dangerouslySetInnerHTML","__html","marked","ReposList","repos","setRepos","query","setQuery","sort","setSort","githubName","setGithubName","search","setSearch","setName","userName","user","repos_url","a","b","updated_at","localeCompare","path","exact","primary","length","Form","Field","widths","Input","filter","toLowerCase","includes","toLocaleLowerCase","Card","Image","src","avatar_url","Content","Header","stringify","chooseRepo","to","Meta","Description","extra","stargazers_count","component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.55e7d4be.chunk.js","sourcesContent":["const BASE_URL = 'https://api.github.com/';\n\nexport const getRepo = userName => (\n  fetch(`${BASE_URL}users/${userName}`)\n    .then(response => response.json())\n);\n\nexport const getReadme = (repo) => (\n  fetch(`${BASE_URL}repos/${repo.owner.login}/${repo.name}/readme`)\n    .then(response => response.json())\n);\n\nexport const getTags = () => (\n  fetch('https://api.github.com/repos/bogdan/accept_values_for/tags')\n    .then(response => response.json())\n)\n","import React, { useEffect, useState } from 'react';\n\nimport marked from 'marked';\nimport DOMPurify from 'dompurify';\n\nimport classNames from \"classnames\";\n\nimport { Item, Button } from 'semantic-ui-react'\n\nimport { getReadme, getTags } from '../Api';\n\nimport './Details.css';\n\n\nexport const Details = () => {\n  const saved = JSON.parse(localStorage.getItem('repo'));\n  const [readme, setReadme] = useState('');\n  const [details, setDetails] = useState(saved.description);\n  const [tags, setTags] = useState([]);\n  const [isEditing, setIsEditing] = useState(false);\n  const [readmeElement, setReadmeElement] = useState('');\n  const [isNotSaved, setIsNotSaved] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem(saved.id) && localStorage.getItem(saved.node_id)) {\n      setIsEditing(localStorage.getItem(saved.id));\n      setIsNotSaved(true);\n      setDetails(localStorage.getItem(saved.node_id));\n    }\n  }, [])\n\n  const edit = () => {\n    setIsEditing(true);\n    localStorage.setItem(saved.id, isEditing)\n  }\n\n  const hendleOnChange = (event) => {\n    setDetails(event.target.value)\n    localStorage.setItem(saved.node_id, details);\n  }\n\n  const saveText = () => {\n    setIsEditing(false)\n    setIsNotSaved(false);\n  }\n\n  const b64_to_utf8 = (str) => decodeURIComponent(escape(window.atob(str)));\n\n  useEffect(() => {\n    getReadme(saved)\n      .then(result => setReadme(result.content))\n  }, []);\n\n  useEffect(() => {\n    getTags()\n      .then(result => setTags(result))\n  }, []);\n\n  useEffect(() => {\n    if (readme) {\n      const clean = DOMPurify.sanitize(b64_to_utf8(readme));\n      setReadmeElement(clean)\n    }\n  }, [readme]);\n\n  const getMarkdownText = () => {\n    const html = marked(readmeElement);\n    return { __html: html };\n  }\n\n  return (\n    <section className='repo-container'>\n      {isEditing ?\n        (\n          <div className='edit-container'>\n            <textarea\n              className={classNames('edit', { error: isNotSaved })}\n              placeholder='enter github name'\n              value={details}\n              type='text'\n              onChange={hendleOnChange}\n            >\n            </textarea>\n            <Button\n              className='save-button'\n              value={details}\n              onClick={saveText}\n            >\n              save\n            </Button>\n            {isNotSaved && <p className='error-message'>you forgot to save changes</p>}\n          </div>\n        )\n        :\n        (\n          <h2 className='repo-title'>\n            {details}\n            <Button className=\"button edit-button\" onClick={edit}>edit</Button>\n          </h2>\n\n        )\n      }\n      <div className='tags-container'>\n        <b>Tags:</b>\n        {tags.map(tag => (\n          <p className='tags' key={tag.node_id}>{tag.name}</p>\n        ))}\n      </div>\n      <Item className='zip' as='a' href={`https://api.github.com/repos/${saved.owner.login}/${saved.name}/zipball/${saved.default_branch}`}>Download zip</Item>\n      {readmeElement && <div className='readme' dangerouslySetInnerHTML={getMarkdownText()} />}\n    </section>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { Route, Link } from \"react-router-dom\";\n\nimport { Card, Image, Input, Form, Button } from 'semantic-ui-react'\n\nimport { getRepo } from '../Api';\nimport { Details } from '../Details/Details';\n\nimport './ReposList.css';\n\n\nexport const ReposList = () => {\n  const [repos, setRepos] = useState([]);\n  const [query, setQuery] = useState('');\n  const [sort, setSort] = useState('');\n  const [githubName, setGithubName] = useState('');\n  const [search, setSearch] = useState('');\n  const [name, setName] = useState(false);\n\n  const nameEnter = (event) => {\n    setGithubName(event.target.value)\n  }\n\n  const chooseRepo = (repo) => {\n    localStorage.setItem('repo', JSON.stringify(repo));\n  }\n\n  const hendleOnChange = (event) => {\n    setQuery(event.target.value);\n  }\n\n  const reposSort = (event) => {\n    setSort(event.target.value);\n  }\n\n  useEffect(() => {\n    if (search) {\n      getRepo(search)\n        .then(user => user)\n        .then(user =>\n          fetch(user.repos_url)\n            .then(result => result.json())\n            .then(repos => setRepos(repos)))\n    }\n  }, [search]);\n\n  const nameSearch = () => {\n    setName(true);\n    setSearch(githubName);\n  }\n\n  repos.sort((a, b) => {\n    switch (sort) {\n      case 'date':\n        return a.updated_at.localeCompare(b.updated_at);\n      case 'title':\n        return a.name.localeCompare(b.name);\n    }\n  });\n\n  return (\n    <>\n      <Route path='/git-api' exact>\n        <div className='navbar'>Github Search</div>\n        <div className=\"ui focus input search\">\n          <input\n            value={githubName}\n            onChange={nameEnter}\n            type=\"text\"\n            placeholder=\"Enter github name\"\n          />\n          <Button onClick={nameSearch} primary>Search</Button>\n        </div>\n        {name && repos.length === 0 && <p className='notFound'>user not found</p>}\n        {name && repos.length > 0 &&\n          <>\n            <h1 className='title'>List of Repositories</h1>\n            <Form.Field widths='equal' className='searchTitle' >\n              <Input\n                type='text'\n                value={query}\n                onChange={hendleOnChange}\n                placeholder=\"Search by title\"\n              >\n              </Input>\n              <select\n                value={sort}\n                onChange={reposSort}\n                className='select'\n              >\n                <option value='date'>sort by date</option>\n                <option value='title'>sort by title</option>\n              </select>\n            </Form.Field>\n            <ul className='list-group'>\n              {repos.filter(repo => repo.name.toLowerCase().includes(query.toLocaleLowerCase())).map(repo => (\n                <li key={repo.id} className='list-group-item'>\n                  <Card className='card'>\n                    <Image src={repo.owner.avatar_url} />\n                    <Card.Content>\n                      <Card.Header>{`autor: ${repo.owner.login}`}</Card.Header><br />\n                      <Link\n                        onClick={() => chooseRepo(repo)}\n                        className='name'\n                        to='/details'\n                      >\n                        {`Title: ${repo.name}`}\n                      </Link><br />\n                      <Card.Meta>\n                        <span className='date'>{`last update: ${repo.updated_at}`}</span>\n                      </Card.Meta><br />\n                      <Card.Description className=\"description\">\n                        {repo.description}\n                      </Card.Description>\n                    </Card.Content>\n                    <Card.Content extra>\n                      <p className='rating'>{`Rating: ${repo.stargazers_count}`}</p>\n                    </Card.Content>\n                  </Card>\n                </li>\n              ))}\n            </ul>\n          </>}\n      </Route>\n      <Route path='/details' component={Details}>\n      </Route>\n    </>\n  );\n}\n","import React from 'react';\n\nimport { ReposList } from './components/ReposList/ReposList';\n\nimport 'semantic-ui-css/semantic.min.css';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ReposList />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}