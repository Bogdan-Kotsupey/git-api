(this["webpackJsonpgit-api"]=this["webpackJsonpgit-api"]||[]).push([[0],{144:function(e,t,c){},145:function(e,t,c){},152:function(e,t,c){},155:function(e,t,c){},156:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(51),s=c.n(n),r=(c(144),c(19)),o=c(10),i=c(95),l=c(157),j=c(170),u=c(169),b=c(172),d=c(126),h="https://api.github.com/",O=c(121),p=c.n(O),g=c(122),m=c.n(g),f=c(123),x=c.n(f),S=c(171),v=(c(145),c(5)),N=function(){var e=JSON.parse(localStorage.getItem("repo")),t=Object(a.useState)(""),c=Object(r.a)(t,2),n=c[0],s=c[1],o=Object(a.useState)(e.description),i=Object(r.a)(o,2),j=i[0],u=i[1],b=Object(a.useState)([]),d=Object(r.a)(b,2),O=d[0],g=d[1],f=Object(a.useState)(!1),N=Object(r.a)(f,2),C=N[0],w=N[1],I=Object(a.useState)(""),_=Object(r.a)(I,2),y=_[0],k=_[1],F=Object(a.useState)(!1),L=Object(r.a)(F,2),J=L[0],T=L[1];Object(a.useEffect)((function(){var t;localStorage.getItem(e.id)&&(w(!0),T(!0)),localStorage.getItem(e.node_id)&&u(localStorage.getItem(e.node_id)),fetch("https://api.github.com/repos/bogdan/accept_values_for/tags").then((function(e){return e.json()})).then((function(e){return g(e)})),(t=e,fetch("".concat(h,"repos/").concat(t.owner.login,"/").concat(t.name,"/readme")).then((function(e){return e.json()}))).then((function(e){return s(e.content)}))}),[]),Object(a.useEffect)((function(){C&&localStorage.setItem(e.node_id,j)}),[j]),Object(a.useEffect)((function(){if(n){var e=m.a.sanitize((t=n,decodeURIComponent(escape(window.atob(t)))));k(e)}var t}),[n]);return Object(v.jsxs)("section",{className:"repo-container",children:[C?Object(v.jsxs)("div",{className:"edit-container",children:[Object(v.jsx)("textarea",{className:x()("edit",{error:J}),value:j,type:"text",onChange:function(e){return u(e.target.value)}}),Object(v.jsx)(l.a,{className:"save-button",value:j,onClick:function(){w(!1),T(!1),localStorage.removeItem(e.id)},children:"save"}),J&&Object(v.jsx)("p",{className:"error-message",children:"you forgot to save changes"})]}):Object(v.jsxs)("h2",{className:"repo-title",children:[j,Object(v.jsx)(l.a,{className:"button edit-button",onClick:function(){w(!0),localStorage.setItem(e.id,C)},children:"edit"})]}),Object(v.jsxs)("div",{className:"tags-container",children:[Object(v.jsx)("b",{children:"Tags:"}),O.map((function(e){return Object(v.jsx)("p",{className:"tags",children:e.name},e.node_id)}))]}),Object(v.jsx)("div",{className:"link-container",children:Object(v.jsx)(S.a,{className:"zip",as:"a",href:"https://api.github.com/repos/".concat(e.owner.login,"/").concat(e.name,"/zipball/").concat(e.default_branch),children:"Download zip"})}),y&&Object(v.jsx)("div",{className:"readme",dangerouslySetInnerHTML:{__html:p()(y)}})]})},C=(c(152),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("repos"))||[]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),O=Object(r.a)(s,2),p=O[0],g=O[1],m=Object(a.useState)(""),f=Object(r.a)(m,2),x=f[0],S=f[1],C=Object(a.useState)(""),w=Object(r.a)(C,2),I=w[0],_=w[1],y=Object(a.useState)(""),k=Object(r.a)(y,2),F=k[0],L=k[1],J=Object(a.useState)(!1),T=Object(r.a)(J,2),E=T[0],z=T[1],D=Object(a.useState)(!1),R=Object(r.a)(D,2),B=R[0],H=R[1];return Object(a.useEffect)((function(){var e;F&&(e=F,fetch("".concat(h,"users/").concat(e)).then((function(e){return e.json()}))).then((function(e){return fetch(e.repos_url).then((function(e){return e.json()})).then((function(e){return n(e)}))})).then((function(){return H(!1)})).catch((function(){0===c.length&&(H(!1),z(!0))}))}),[F]),localStorage.setItem("repos",JSON.stringify(c)),c.sort((function(e,t){switch(x){case"date":return e.updated_at.localeCompare(t.updated_at);case"title":return e.name.localeCompare(t.name)}})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(o.a,{path:"/git-api",exact:!0,children:[Object(v.jsx)("div",{className:"navbar",children:"Github Search"}),0===c.length&&Object(v.jsxs)("div",{className:"ui focus input search",children:[Object(v.jsx)("p",{children:JSON.parse(localStorage.getItem("repos"))}),Object(v.jsx)("input",{value:I,onChange:function(e){_(e.target.value),z(!1)},type:"text",placeholder:"Enter github name"}),Object(v.jsx)(l.a,{onClick:function(){L(I),E||H(!0)},primary:!0,children:"Search"})]}),0===c.length&&B&&Object(v.jsx)("p",{className:"loading",children:"Loading..."}),0===c.length&&E&&Object(v.jsx)("p",{className:"notFound",children:"user not found"}),c.length>0&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"title",children:"List of Repositories"}),Object(v.jsxs)(j.a.Field,{widths:"equal",className:"searchTitle",children:[Object(v.jsx)(u.a,{type:"text",value:p,onChange:function(e){g(e.target.value)},placeholder:"Search by title"}),Object(v.jsxs)("select",{value:x,onChange:function(e){S(e.target.value)},className:"select",style:{margin:"0 10px"},children:[Object(v.jsx)("option",{value:"date",children:"sort by date"}),Object(v.jsx)("option",{value:"title",children:"sort by title"})]}),Object(v.jsx)(l.a,{onClick:function(){localStorage.clear(),window.location.reload()},primary:!0,children:"select another user"})]}),Object(v.jsx)("ul",{className:"list-group",children:c.length>0&&c.filter((function(e){return e.name.toLowerCase().includes(p.toLocaleLowerCase())})).map((function(e){return Object(v.jsx)("li",{className:"list-group-item",children:Object(v.jsxs)(b.a,{className:"card",children:[Object(v.jsx)(d.a,{src:e.owner.avatar_url}),Object(v.jsxs)(b.a.Content,{children:[Object(v.jsx)(b.a.Header,{children:"autor: ".concat(e.owner.login)}),Object(v.jsx)("br",{}),Object(v.jsx)(i.b,{onClick:function(){return function(e){localStorage.setItem("repo",JSON.stringify(e))}(e)},className:"name",to:"/details",children:"Title: ".concat(e.name)}),Object(v.jsx)("br",{}),Object(v.jsx)(b.a.Meta,{children:Object(v.jsx)("span",{className:"date",children:"last update: ".concat(e.updated_at.replace("T"," at ").replace("Z",""))})}),Object(v.jsx)("br",{}),Object(v.jsx)(b.a.Description,{className:"description",children:e.description})]}),Object(v.jsx)(b.a.Content,{extra:!0,children:Object(v.jsx)("p",{className:"rating",children:"Rating: ".concat(e.stargazers_count)})})]})},e.id)}))})]})]}),Object(v.jsx)(o.a,{path:"/details",component:N})]})});c(154),c(155);var w=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(C,{})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,174)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};s.a.render(Object(v.jsx)(i.a,{children:Object(v.jsx)(w,{})}),document.getElementById("root")),I()}},[[156,1,2]]]);
//# sourceMappingURL=main.47f62277.chunk.js.map